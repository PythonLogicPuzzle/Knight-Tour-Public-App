{"version":3,"file":"js/340.3a53b39d.js","mappings":"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AU,CACZ,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAE,GAAI,EAC/C,EAAE,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAK,EAAG,EAAG,EAAG,EAAG,EAAE,GAAI,EAAG,EAC/C,EAAG,EAAE,GAAI,EAAG,EAAG,EAAG,EAAG,GAAK,EAAG,EAAG,EAAG,EAAE,GAAI,EAAG,EAAG,EAC/C,EAAG,EAAG,EAAE,GAAI,EAAG,EAAG,EAAG,GAAK,EAAG,EAAG,EAAE,GAAI,EAAG,EAAG,EAAG,EAC/C,EAAG,EAAG,EAAG,EAAE,GAAI,EAAG,EAAG,GAAK,EAAG,EAAE,GAAI,EAAG,EAAG,EAAG,EAAG,EAC/C,EAAG,EAAG,EAAG,EAAG,EAAE,GAAI,EAAG,GAAK,EAAE,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAC/C,EAAG,EAAG,EAAG,EAAG,EAAG,EAAE,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAChD,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAK,EAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAI,EAC/C,EAAG,EAAG,EAAG,EAAG,EAAG,EAAE,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAC/C,EAAG,EAAG,EAAG,EAAG,EAAE,GAAI,EAAG,GAAK,EAAE,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAC/C,EAAG,EAAG,EAAG,EAAE,GAAI,EAAG,EAAG,GAAK,EAAG,EAAE,GAAI,EAAG,EAAG,EAAG,EAAG,EAC/C,EAAG,EAAG,EAAE,GAAI,EAAG,EAAG,EAAG,GAAK,EAAG,EAAG,EAAE,GAAI,EAAG,EAAG,EAAG,EAC/C,EAAG,EAAE,GAAI,EAAG,EAAG,EAAG,EAAG,GAAK,EAAG,EAAG,EAAG,EAAE,GAAI,EAAG,EAAG,EAC/C,EAAE,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAK,EAAG,EAAG,EAAG,EAAG,EAAE,GAAI,EAAG,EAChD,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAK,EAAG,EAAG,EAAG,EAA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","sources":["webpack://the-knights-tour/./src/views/Home.vue?7574","webpack://the-knights-tour/./src/components/Chessboard.vue?7278","webpack://the-knights-tour/./src/helpers/index.js","webpack://the-knights-tour/./src/warnsdorff/index.js","webpack://the-knights-tour/src/components/Chessboard.vue","webpack://the-knights-tour/./src/components/Chessboard.vue?082b","webpack://the-knights-tour/./src/components/Chessboard.vue","webpack://the-knights-tour/./src/components/Dashboard.vue?b6bf","webpack://the-knights-tour/src/components/Dashboard.vue","webpack://the-knights-tour/./src/components/Dashboard.vue?21a8","webpack://the-knights-tour/./src/components/Dashboard.vue","webpack://the-knights-tour/src/views/Home.vue","webpack://the-knights-tour/./src/views/Home.vue?65f5","webpack://the-knights-tour/./src/views/Home.vue","webpack://the-knights-tour/./node_modules/chess.js/chess.js","webpack://the-knights-tour/./node_modules/core-js/internals/a-callable.js","webpack://the-knights-tour/./node_modules/core-js/internals/an-object.js","webpack://the-knights-tour/./node_modules/core-js/internals/array-includes.js","webpack://the-knights-tour/./node_modules/core-js/internals/array-set-length.js","webpack://the-knights-tour/./node_modules/core-js/internals/classof-raw.js","webpack://the-knights-tour/./node_modules/core-js/internals/copy-constructor-properties.js","webpack://the-knights-tour/./node_modules/core-js/internals/create-non-enumerable-property.js","webpack://the-knights-tour/./node_modules/core-js/internals/create-property-descriptor.js","webpack://the-knights-tour/./node_modules/core-js/internals/define-built-in.js","webpack://the-knights-tour/./node_modules/core-js/internals/define-global-property.js","webpack://the-knights-tour/./node_modules/core-js/internals/descriptors.js","webpack://the-knights-tour/./node_modules/core-js/internals/document-all.js","webpack://the-knights-tour/./node_modules/core-js/internals/document-create-element.js","webpack://the-knights-tour/./node_modules/core-js/internals/does-not-exceed-safe-integer.js","webpack://the-knights-tour/./node_modules/core-js/internals/engine-user-agent.js","webpack://the-knights-tour/./node_modules/core-js/internals/engine-v8-version.js","webpack://the-knights-tour/./node_modules/core-js/internals/enum-bug-keys.js","webpack://the-knights-tour/./node_modules/core-js/internals/export.js","webpack://the-knights-tour/./node_modules/core-js/internals/fails.js","webpack://the-knights-tour/./node_modules/core-js/internals/function-bind-native.js","webpack://the-knights-tour/./node_modules/core-js/internals/function-call.js","webpack://the-knights-tour/./node_modules/core-js/internals/function-name.js","webpack://the-knights-tour/./node_modules/core-js/internals/function-uncurry-this.js","webpack://the-knights-tour/./node_modules/core-js/internals/get-built-in.js","webpack://the-knights-tour/./node_modules/core-js/internals/get-method.js","webpack://the-knights-tour/./node_modules/core-js/internals/global.js","webpack://the-knights-tour/./node_modules/core-js/internals/has-own-property.js","webpack://the-knights-tour/./node_modules/core-js/internals/hidden-keys.js","webpack://the-knights-tour/./node_modules/core-js/internals/ie8-dom-define.js","webpack://the-knights-tour/./node_modules/core-js/internals/indexed-object.js","webpack://the-knights-tour/./node_modules/core-js/internals/inspect-source.js","webpack://the-knights-tour/./node_modules/core-js/internals/internal-state.js","webpack://the-knights-tour/./node_modules/core-js/internals/is-array.js","webpack://the-knights-tour/./node_modules/core-js/internals/is-callable.js","webpack://the-knights-tour/./node_modules/core-js/internals/is-forced.js","webpack://the-knights-tour/./node_modules/core-js/internals/is-null-or-undefined.js","webpack://the-knights-tour/./node_modules/core-js/internals/is-object.js","webpack://the-knights-tour/./node_modules/core-js/internals/is-pure.js","webpack://the-knights-tour/./node_modules/core-js/internals/is-symbol.js","webpack://the-knights-tour/./node_modules/core-js/internals/length-of-array-like.js","webpack://the-knights-tour/./node_modules/core-js/internals/make-built-in.js","webpack://the-knights-tour/./node_modules/core-js/internals/math-trunc.js","webpack://the-knights-tour/./node_modules/core-js/internals/object-define-property.js","webpack://the-knights-tour/./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://the-knights-tour/./node_modules/core-js/internals/object-get-own-property-names.js","webpack://the-knights-tour/./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://the-knights-tour/./node_modules/core-js/internals/object-is-prototype-of.js","webpack://the-knights-tour/./node_modules/core-js/internals/object-keys-internal.js","webpack://the-knights-tour/./node_modules/core-js/internals/object-property-is-enumerable.js","webpack://the-knights-tour/./node_modules/core-js/internals/ordinary-to-primitive.js","webpack://the-knights-tour/./node_modules/core-js/internals/own-keys.js","webpack://the-knights-tour/./node_modules/core-js/internals/require-object-coercible.js","webpack://the-knights-tour/./node_modules/core-js/internals/shared-key.js","webpack://the-knights-tour/./node_modules/core-js/internals/shared-store.js","webpack://the-knights-tour/./node_modules/core-js/internals/shared.js","webpack://the-knights-tour/./node_modules/core-js/internals/symbol-constructor-detection.js","webpack://the-knights-tour/./node_modules/core-js/internals/to-absolute-index.js","webpack://the-knights-tour/./node_modules/core-js/internals/to-indexed-object.js","webpack://the-knights-tour/./node_modules/core-js/internals/to-integer-or-infinity.js","webpack://the-knights-tour/./node_modules/core-js/internals/to-length.js","webpack://the-knights-tour/./node_modules/core-js/internals/to-object.js","webpack://the-knights-tour/./node_modules/core-js/internals/to-primitive.js","webpack://the-knights-tour/./node_modules/core-js/internals/to-property-key.js","webpack://the-knights-tour/./node_modules/core-js/internals/try-to-string.js","webpack://the-knights-tour/./node_modules/core-js/internals/uid.js","webpack://the-knights-tour/./node_modules/core-js/internals/use-symbol-as-uid.js","webpack://the-knights-tour/./node_modules/core-js/internals/v8-prototype-define-bug.js","webpack://the-knights-tour/./node_modules/core-js/internals/weak-map-basic-detection.js","webpack://the-knights-tour/./node_modules/core-js/internals/well-known-symbol.js","webpack://the-knights-tour/./node_modules/core-js/modules/es.array.push.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('article',{staticClass:\"p-2\"},[_c('strong',[_vm._v(\" \"+_vm._s(_vm.instruction)+\" \")])]),_c('article',[_c('Chessboard',{ref:\"chessboard\"})],1),_c('article',[_c('Dashboard',{on:{\"chessboard-event\":function (e) { return _vm.$refs.chessboard[e](); }}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('chess-board',{attrs:{\"draggable-pieces\":\"\",\"drop-off-board\":\"snapback\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function markupSquare(markup, squareEl) {\r\n  const moveNumberContainer = document.createElement(\"div\")\r\n  const moveNumberEl = document.createElement(\"strong\")\r\n  const moveNumber = document.createTextNode(markup)\r\n\r\n  moveNumberContainer.setAttribute(\"id\", \"moveNumberContainer\")\r\n  moveNumberContainer.style.margin = 0\r\n  moveNumberContainer.style.position = \"absolute\"\r\n  moveNumberContainer.style.top = \"50%\"\r\n  moveNumberContainer.style.left = \"50%\"\r\n  moveNumberContainer.style.transform = \"translate(-50%, -50%)\"\r\n  moveNumberContainer.style[\"-ms-transform\"] = \"translate(-50%, -50%)\"\r\n  moveNumberContainer.style[\"z-index\"] = -1\r\n  squareEl.style[\"z-index\"] = 1\r\n  \r\n  moveNumberContainer.appendChild(moveNumberEl)\r\n  moveNumberEl.appendChild(moveNumber)\r\n\r\n  squareEl.appendChild(moveNumberContainer)\r\n}\r\n","function allPossibleMoves(position, takenSpots) {\r\n  position = position[1] - 1 + (\"abcdefgh\".indexOf(position[0]) << 4) // Convert\r\n\r\n  return [-0x12, -0x21, -0x1F, -0x0E, 0x12, 0x21, 0x1F, 0x0E] // All relative moves\r\n    .map(move => position + move) // Add to current position\r\n    .filter(move => !(move & 0x88)) // Detect under/overflow, i.e. off-the-board\r\n    .map(move => \"abcdefgh\"[move >> 4] + ((move & 7) + 1)) // Convert to output format\r\n    .filter(move => !takenSpots.includes(move)) // filtering out visited squares\r\n}\r\n\r\nfunction nextMove(position, takenSpots) {\r\n  const possibleMoves = allPossibleMoves(position, takenSpots)\r\n\r\n  const movesAccessibilities = possibleMoves.map(move => allPossibleMoves(move, takenSpots).length)\r\n  const minAccessibility = Math.min(...movesAccessibilities)\r\n  const move = possibleMoves[movesAccessibilities.indexOf(minAccessibility)]\r\n  takenSpots.push(move)\r\n\r\n  return move\r\n}\r\n\r\nfunction takeTour(position, takenSpots) {\r\n  for (let moveNumber = takenSpots.length + 1, move = position; moveNumber < 65; ++moveNumber) {\r\n    move = nextMove(move, takenSpots)\r\n  }\r\n}\r\n\r\nexport default {\r\n  nextMove,\r\n  takeTour\r\n}\r\n","<template>\r\n  <chess-board draggable-pieces drop-off-board=\"snapback\"></chess-board>\r\n</template>\r\n\r\n<script>\r\nimport Chess from \"chess.js\"\r\nimport { mapGetters } from \"vuex\"\r\nimport { markupSquare } from \"@/helpers\"\r\nimport warnsdorff from \"@/warnsdorff\"\r\nexport default {\r\n  name: \"Chessboard\",\r\n  mounted() {\r\n    this.boardEl = document.querySelector(\"chess-board\")\r\n    this.boardEl.addEventListener(\"drop\", this.droped)\r\n    \r\n    this.reset()\r\n  },\r\n  data() {\r\n    return {\r\n      boardEl: null,\r\n      takenSpots: null,\r\n      game: new Chess(),\r\n      positionSuffix: \" b - - 0 1\"\r\n    }\r\n  },\r\n  computed: mapGetters([\"timeouts\", \"delayTime\"]),\r\n  methods: {\r\n    changeState(state) {\r\n      Object.entries(state).forEach(([key, value]) => this.$store.dispatch(key, value))\r\n    },\r\n    currentPosition() {\r\n      return Object.keys(this.boardEl.position)[0]\r\n    },\r\n    selectInBoard(selector) {\r\n      return this.boardEl.shadowRoot.querySelectorAll(selector)\r\n    },\r\n    markup(target, markup) {\r\n      const targetId = \"#square-\" + target\r\n      const [squareEl] = this.selectInBoard(targetId)\r\n      markupSquare(markup ? markup : this.takenSpots.length, squareEl)\r\n    },\r\n    reset() {\r\n      this.takenSpots = [\"c6\"]\r\n      this.boardEl.setPosition({ c6: \"bN\" })\r\n    },\r\n    boardReady() {\r\n      this.game.load(this.boardEl.fen() + this.positionSuffix)\r\n      this.markup(this.currentPosition(), 1)\r\n\r\n      this.changeState({ updateBoardState: \"ready\" })\r\n    },\r\n    droped({ detail }) {\r\n      const { source, target, setAction } = detail\r\n      \r\n      if (this.$store.getters.boardState === \"unready\") {\r\n        return this.takenSpots[0] = target === \"offboard\" ? source : target\r\n      }\r\n\r\n      const move = this.game.move({\r\n        from: source,\r\n        to: target\r\n      })\r\n      if (!move || this.takenSpots.includes(target)) {\r\n        this.game.undo()\r\n        return setAction(\"snapback\")\r\n      }\r\n      \r\n      this.takenSpots.push(target === \"offboard\" ? source : target)\r\n      this.game.load(this.game.fen().replace(/\\s.+/, this.positionSuffix))\r\n      \r\n      this.markup(target)\r\n      \r\n      if (this.takenSpots.length === 2) {\r\n        this.changeState({ updateBoardState: \"solving\" })\r\n      } else if (this.takenSpots.length === 64) {\r\n        this.changeState({ updateBoardState: \"solved\" })\r\n      }\r\n    },\r\n    nextMove() {\r\n      const move = warnsdorff.nextMove(this.currentPosition(), this.takenSpots)\r\n      if (!move) {\r\n        return this.changeState({ updateBoardState: \"stuck\" })\r\n      }\r\n      \r\n      this.boardEl.setPosition({ [move]: \"bN\" })\r\n      this.game.load(this.boardEl.fen() + this.positionSuffix)\r\n      \r\n      setTimeout(() => this.markup(move), 1000)\r\n      \r\n      if (this.takenSpots.length === 2) {\r\n        this.changeState({ updateBoardState: \"solving\" })\r\n      } else if (this.takenSpots.length === 64) {\r\n        this.changeState({ updateBoardState: \"solved\" })\r\n      }\r\n    },\r\n    takeTour() {\r\n      this.changeState({ updateBoardState: \"visualizing\" })\r\n      const currentPosition = this.currentPosition()\r\n      try {\r\n        warnsdorff.takeTour(currentPosition, this.takenSpots)\r\n      } catch {\r\n        return this.changeState({ updateBoardState: \"stuck\" })\r\n      }\r\n      \r\n      const currentPositionIndex = this.takenSpots.indexOf(currentPosition)\r\n      const tour = this.takenSpots.slice(currentPositionIndex + 1)\r\n      this.visualizeTour(tour)\r\n      this.game.load(this.boardEl.fen() + this.positionSuffix)\r\n    },\r\n    visualizeTour(tour) {\r\n      const offset = 64 - tour.length\r\n      \r\n      tour.forEach((move, index) => {\r\n        const timeout = setTimeout(() => {\r\n          this.boardEl.setPosition({ [move]: \"bN\" })\r\n          setTimeout(() => this.markup(move, offset + index + 1), this.delayTime)\r\n        }, this.delayTime * index)\r\n        this.timeouts.push(timeout)\r\n      })\r\n\r\n      const timeout = setTimeout(() => {\r\n        this.changeState({ updateBoardState: \"solved\" })\r\n      }, this.delayTime * tour.length)\r\n      this.timeouts.push(timeout)\r\n    },\r\n    clearBoard() {\r\n      setTimeout(() => {\r\n        this.selectInBoard(\".square\").forEach(square => square.style = \"\")\r\n        this.selectInBoard(\"#moveNumberContainer\").forEach(container => container.remove())\r\n      }, this.delayTime)\r\n      this.reset()\r\n      this.changeState({ updateBoardState: \"unready\" })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nchess-board {\r\n  --dark-color:  #4cbb17;\r\n  --light-color:  #d8ffc7;\r\n  width: 550px;\r\n  margin: auto;\r\n  padding: 3rem 0 0 0;\r\n}\r\n@media only screen and (max-width: 816px) {\r\n  chess-board {\r\n    width: 95%;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Chessboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Chessboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Chessboard.vue?vue&type=template&id=048f1380&scoped=true&\"\nimport script from \"./Chessboard.vue?vue&type=script&lang=js&\"\nexport * from \"./Chessboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Chessboard.vue?vue&type=style&index=0&id=048f1380&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"048f1380\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('aside',{staticClass:\"p-2\"},[(_vm.boardIsUnReady)?[_c('h6',[_vm._v(\"Once you ready\")]),_c('button',{staticClass:\"btn btn-lg btn-block btn-move shadow-none border-0\",on:{\"click\":function($event){return _vm.chessboardEvent('boardReady')}}},[_vm._v(\" Start Knight's Tour \")])]:[_c('div',{staticClass:\"btn-group btn-block\"},[_c('button',{staticClass:\"btn btn-lg btn-tour text-white shadow-none border-0\",class:{ 'disabled': _vm.disableButton },on:{\"click\":function($event){return _vm.chessboardEvent('takeTour')}}},[_vm._v(\" \"+_vm._s(_vm.tourButtonText)+\" \")]),_c('button',{staticClass:\"btn btn-lg btn-move shadow-none border-0\",class:{ 'disabled': _vm.disableButton },on:{\"click\":function($event){return _vm.chessboardEvent('nextMove')}}},[_vm._v(\" Next move \")])]),_c('div',{staticClass:\"my-2\"},[_c('label',[_vm._v(\"Delay between moves (ms)\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.delayTime),expression:\"delayTime\"}],staticClass:\"form-control form-control-sm\",attrs:{\"disabled\":_vm.boardIsVisualizing,\"type\":\"number\"},domProps:{\"value\":(_vm.delayTime)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.delayTime=$event.target.value}}})]),_c('button',{staticClass:\"my-2 btn btn-lg btn-block btn-secondary shadow-none border-0\",on:{\"click\":function($event){return _vm.chessboardEvent('clearBoard')}}},[_vm._v(\" Clear board \")])]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <aside class=\"p-2\">\r\n    <template v-if=\"boardIsUnReady\">\r\n      <h6>Once you ready</h6>\r\n      <button\r\n        @click=\"chessboardEvent('boardReady')\"\r\n        class=\"btn btn-lg btn-block btn-move shadow-none border-0\"\r\n      >\r\n        Start Knight's Tour\r\n      </button>\r\n    </template>\r\n    <template v-else>\r\n      <div class=\"btn-group btn-block\">\r\n        <button\r\n          @click=\"chessboardEvent('takeTour')\"\r\n          :class=\"{ 'disabled': disableButton }\"\r\n          class=\"btn btn-lg btn-tour text-white shadow-none border-0\"\r\n        >\r\n          {{ tourButtonText }}\r\n        </button>\r\n        <button\r\n          @click=\"chessboardEvent('nextMove')\"\r\n          :class=\"{ 'disabled': disableButton }\"\r\n          class=\"btn btn-lg btn-move shadow-none border-0\"\r\n        >\r\n          Next move\r\n        </button>\r\n      </div>\r\n      <div class=\"my-2\">\r\n        <label>Delay between moves (ms)</label>\r\n        <input v-model=\"delayTime\" :disabled=\"boardIsVisualizing\" type=\"number\" class=\"form-control form-control-sm\">\r\n      </div>\r\n      <button\r\n        @click=\"chessboardEvent('clearBoard')\"\r\n        class=\"my-2 btn btn-lg btn-block btn-secondary shadow-none border-0\"\r\n      >\r\n        Clear board\r\n      </button>\r\n    </template>\r\n  </aside>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\"\r\n\r\nexport default {\r\n  name: \"Dashboard\",\r\n  computed: {\r\n    ...mapGetters([\"boardState\"]),\r\n    boardIsUnReady() {\r\n      return this.boardState === \"unready\"\r\n    },\r\n    boardIsVisualizing() {\r\n      return this.boardState === \"visualizing\"\r\n    },\r\n    disableButton() {\r\n      return this.boardIsVisualizing || this.boardState === \"stuck\" || this.boardState === \"solved\"\r\n    },\r\n    tourButtonText() {\r\n      return this.boardState === \"solving\" ? \"Complete this tour\" : \"Take a tour\"\r\n    },\r\n    delayTime: {\r\n      get() {\r\n        return this.$store.getters.delayTime\r\n      },\r\n      set(delay) {\r\n        this.$store.dispatch(\"updateDelayTime\", delay)\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    chessboardEvent(e) {\r\n      if ([\"boardReady\", \"clearBoard\"].includes(e) || !this.disableButton) {\r\n        this.$emit(\"chessboard-event\", e)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.btn-tour {\r\n  background-color: #40916c;\r\n}\r\n.btn-tour:hover {\r\n  background-color: #2d6a4f;\r\n}\r\n\r\n.btn-move {\r\n  background-color: #EEF4BD;\r\n}\r\n.btn-move:hover {\r\n  background-color: #DCE3AC;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dashboard.vue?vue&type=template&id=5dfe69d8&scoped=true&\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Dashboard.vue?vue&type=style&index=0&id=5dfe69d8&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5dfe69d8\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <section>\r\n    <article class=\"p-2\">\r\n      <strong>\r\n        {{ instruction }}\r\n      </strong>\r\n    </article>\r\n    <article>\r\n      <Chessboard ref=\"chessboard\" />\r\n    </article>\r\n    <article>\r\n      <Dashboard @chessboard-event=\"e => $refs.chessboard[e]()\" />\r\n    </article>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\"\r\nimport Chessboard from \"@/components/Chessboard\"\r\nimport Dashboard from \"@/components/Dashboard\"\r\n\r\nexport default {\r\n  name: \"Home\",\r\n  computed: mapGetters([\"instruction\"]),\r\n  components: {\r\n    Chessboard,\r\n    Dashboard\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nsection {\r\n  display: flex;\r\n}\r\n\r\narticle:nth-child(1) {\r\n  flex: .5;\r\n}\r\narticle:nth-child(2) {\r\n  flex: 3;\r\n}\r\narticle:nth-child(3) {\r\n  flex: 1.15;\r\n}\r\n\r\n\r\n@media screen and (max-width: 815px) {\r\n  section {\r\n    flex-direction: column-reverse;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=62a41228&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=62a41228&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"62a41228\",\n  null\n  \n)\n\nexport default component.exports","/*\n * Copyright (c) 2020, Jeff Hlywa (jhlywa@gmail.com)\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice,\n *    this list of conditions and the following disclaimer.\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n * POSSIBILITY OF SUCH DAMAGE.\n *\n *----------------------------------------------------------------------------*/\n\nvar Chess = function(fen) {\n  var BLACK = 'b'\n  var WHITE = 'w'\n\n  var EMPTY = -1\n\n  var PAWN = 'p'\n  var KNIGHT = 'n'\n  var BISHOP = 'b'\n  var ROOK = 'r'\n  var QUEEN = 'q'\n  var KING = 'k'\n\n  var SYMBOLS = 'pnbrqkPNBRQK'\n\n  var DEFAULT_POSITION =\n    'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1'\n\n  var POSSIBLE_RESULTS = ['1-0', '0-1', '1/2-1/2', '*']\n\n  var PAWN_OFFSETS = {\n    b: [16, 32, 17, 15],\n    w: [-16, -32, -17, -15]\n  }\n\n  var PIECE_OFFSETS = {\n    n: [-18, -33, -31, -14, 18, 33, 31, 14],\n    b: [-17, -15, 17, 15],\n    r: [-16, 1, 16, -1],\n    q: [-17, -16, -15, 1, 17, 16, 15, -1],\n    k: [-17, -16, -15, 1, 17, 16, 15, -1]\n  }\n\n  // prettier-ignore\n  var ATTACKS = [\n    20, 0, 0, 0, 0, 0, 0, 24,  0, 0, 0, 0, 0, 0,20, 0,\n     0,20, 0, 0, 0, 0, 0, 24,  0, 0, 0, 0, 0,20, 0, 0,\n     0, 0,20, 0, 0, 0, 0, 24,  0, 0, 0, 0,20, 0, 0, 0,\n     0, 0, 0,20, 0, 0, 0, 24,  0, 0, 0,20, 0, 0, 0, 0,\n     0, 0, 0, 0,20, 0, 0, 24,  0, 0,20, 0, 0, 0, 0, 0,\n     0, 0, 0, 0, 0,20, 2, 24,  2,20, 0, 0, 0, 0, 0, 0,\n     0, 0, 0, 0, 0, 2,53, 56, 53, 2, 0, 0, 0, 0, 0, 0,\n    24,24,24,24,24,24,56,  0, 56,24,24,24,24,24,24, 0,\n     0, 0, 0, 0, 0, 2,53, 56, 53, 2, 0, 0, 0, 0, 0, 0,\n     0, 0, 0, 0, 0,20, 2, 24,  2,20, 0, 0, 0, 0, 0, 0,\n     0, 0, 0, 0,20, 0, 0, 24,  0, 0,20, 0, 0, 0, 0, 0,\n     0, 0, 0,20, 0, 0, 0, 24,  0, 0, 0,20, 0, 0, 0, 0,\n     0, 0,20, 0, 0, 0, 0, 24,  0, 0, 0, 0,20, 0, 0, 0,\n     0,20, 0, 0, 0, 0, 0, 24,  0, 0, 0, 0, 0,20, 0, 0,\n    20, 0, 0, 0, 0, 0, 0, 24,  0, 0, 0, 0, 0, 0,20\n  ];\n\n  // prettier-ignore\n  var RAYS = [\n     17,  0,  0,  0,  0,  0,  0, 16,  0,  0,  0,  0,  0,  0, 15, 0,\n      0, 17,  0,  0,  0,  0,  0, 16,  0,  0,  0,  0,  0, 15,  0, 0,\n      0,  0, 17,  0,  0,  0,  0, 16,  0,  0,  0,  0, 15,  0,  0, 0,\n      0,  0,  0, 17,  0,  0,  0, 16,  0,  0,  0, 15,  0,  0,  0, 0,\n      0,  0,  0,  0, 17,  0,  0, 16,  0,  0, 15,  0,  0,  0,  0, 0,\n      0,  0,  0,  0,  0, 17,  0, 16,  0, 15,  0,  0,  0,  0,  0, 0,\n      0,  0,  0,  0,  0,  0, 17, 16, 15,  0,  0,  0,  0,  0,  0, 0,\n      1,  1,  1,  1,  1,  1,  1,  0, -1, -1,  -1,-1, -1, -1, -1, 0,\n      0,  0,  0,  0,  0,  0,-15,-16,-17,  0,  0,  0,  0,  0,  0, 0,\n      0,  0,  0,  0,  0,-15,  0,-16,  0,-17,  0,  0,  0,  0,  0, 0,\n      0,  0,  0,  0,-15,  0,  0,-16,  0,  0,-17,  0,  0,  0,  0, 0,\n      0,  0,  0,-15,  0,  0,  0,-16,  0,  0,  0,-17,  0,  0,  0, 0,\n      0,  0,-15,  0,  0,  0,  0,-16,  0,  0,  0,  0,-17,  0,  0, 0,\n      0,-15,  0,  0,  0,  0,  0,-16,  0,  0,  0,  0,  0,-17,  0, 0,\n    -15,  0,  0,  0,  0,  0,  0,-16,  0,  0,  0,  0,  0,  0,-17\n  ];\n\n  var SHIFTS = { p: 0, n: 1, b: 2, r: 3, q: 4, k: 5 }\n\n  var FLAGS = {\n    NORMAL: 'n',\n    CAPTURE: 'c',\n    BIG_PAWN: 'b',\n    EP_CAPTURE: 'e',\n    PROMOTION: 'p',\n    KSIDE_CASTLE: 'k',\n    QSIDE_CASTLE: 'q'\n  }\n\n  var BITS = {\n    NORMAL: 1,\n    CAPTURE: 2,\n    BIG_PAWN: 4,\n    EP_CAPTURE: 8,\n    PROMOTION: 16,\n    KSIDE_CASTLE: 32,\n    QSIDE_CASTLE: 64\n  }\n\n  var RANK_1 = 7\n  var RANK_2 = 6\n  var RANK_3 = 5\n  var RANK_4 = 4\n  var RANK_5 = 3\n  var RANK_6 = 2\n  var RANK_7 = 1\n  var RANK_8 = 0\n\n  // prettier-ignore\n  var SQUARES = {\n    a8:   0, b8:   1, c8:   2, d8:   3, e8:   4, f8:   5, g8:   6, h8:   7,\n    a7:  16, b7:  17, c7:  18, d7:  19, e7:  20, f7:  21, g7:  22, h7:  23,\n    a6:  32, b6:  33, c6:  34, d6:  35, e6:  36, f6:  37, g6:  38, h6:  39,\n    a5:  48, b5:  49, c5:  50, d5:  51, e5:  52, f5:  53, g5:  54, h5:  55,\n    a4:  64, b4:  65, c4:  66, d4:  67, e4:  68, f4:  69, g4:  70, h4:  71,\n    a3:  80, b3:  81, c3:  82, d3:  83, e3:  84, f3:  85, g3:  86, h3:  87,\n    a2:  96, b2:  97, c2:  98, d2:  99, e2: 100, f2: 101, g2: 102, h2: 103,\n    a1: 112, b1: 113, c1: 114, d1: 115, e1: 116, f1: 117, g1: 118, h1: 119\n  };\n\n  var ROOKS = {\n    w: [\n      { square: SQUARES.a1, flag: BITS.QSIDE_CASTLE },\n      { square: SQUARES.h1, flag: BITS.KSIDE_CASTLE }\n    ],\n    b: [\n      { square: SQUARES.a8, flag: BITS.QSIDE_CASTLE },\n      { square: SQUARES.h8, flag: BITS.KSIDE_CASTLE }\n    ]\n  }\n\n  var board = new Array(128)\n  var kings = { w: EMPTY, b: EMPTY }\n  var turn = WHITE\n  var castling = { w: 0, b: 0 }\n  var ep_square = EMPTY\n  var half_moves = 0\n  var move_number = 1\n  var history = []\n  var header = {}\n  var comments = {}\n\n  /* if the user passes in a fen string, load it, else default to\n   * starting position\n   */\n  if (typeof fen === 'undefined') {\n    load(DEFAULT_POSITION)\n  } else {\n    load(fen)\n  }\n\n  function clear(keep_headers) {\n    if (typeof keep_headers === 'undefined') {\n      keep_headers = false\n    }\n\n    board = new Array(128)\n    kings = { w: EMPTY, b: EMPTY }\n    turn = WHITE\n    castling = { w: 0, b: 0 }\n    ep_square = EMPTY\n    half_moves = 0\n    move_number = 1\n    history = []\n    if (!keep_headers) header = {}\n    comments = {}\n    update_setup(generate_fen())\n  }\n\n  function prune_comments() {\n    var reversed_history = [];\n    var current_comments = {};\n    var copy_comment = function(fen) {\n      if (fen in comments) {\n        current_comments[fen] = comments[fen];\n      }\n    };\n    while (history.length > 0) {\n      reversed_history.push(undo_move());\n    }\n    copy_comment(generate_fen());\n    while (reversed_history.length > 0) {\n      make_move(reversed_history.pop());\n      copy_comment(generate_fen());\n    }\n    comments = current_comments;\n  }\n\n  function reset() {\n    load(DEFAULT_POSITION)\n  }\n\n  function load(fen, keep_headers) {\n    if (typeof keep_headers === 'undefined') {\n      keep_headers = false\n    }\n\n    var tokens = fen.split(/\\s+/)\n    var position = tokens[0]\n    var square = 0\n\n    if (!validate_fen(fen).valid) {\n      return false\n    }\n\n    clear(keep_headers)\n\n    for (var i = 0; i < position.length; i++) {\n      var piece = position.charAt(i)\n\n      if (piece === '/') {\n        square += 8\n      } else if (is_digit(piece)) {\n        square += parseInt(piece, 10)\n      } else {\n        var color = piece < 'a' ? WHITE : BLACK\n        put({ type: piece.toLowerCase(), color: color }, algebraic(square))\n        square++\n      }\n    }\n\n    turn = tokens[1]\n\n    if (tokens[2].indexOf('K') > -1) {\n      castling.w |= BITS.KSIDE_CASTLE\n    }\n    if (tokens[2].indexOf('Q') > -1) {\n      castling.w |= BITS.QSIDE_CASTLE\n    }\n    if (tokens[2].indexOf('k') > -1) {\n      castling.b |= BITS.KSIDE_CASTLE\n    }\n    if (tokens[2].indexOf('q') > -1) {\n      castling.b |= BITS.QSIDE_CASTLE\n    }\n\n    ep_square = tokens[3] === '-' ? EMPTY : SQUARES[tokens[3]]\n    half_moves = parseInt(tokens[4], 10)\n    move_number = parseInt(tokens[5], 10)\n\n    update_setup(generate_fen())\n\n    return true\n  }\n\n  /* TODO: this function is pretty much crap - it validates structure but\n   * completely ignores content (e.g. doesn't verify that each side has a king)\n   * ... we should rewrite this, and ditch the silly error_number field while\n   * we're at it\n   */\n  function validate_fen(fen) {\n    var errors = {\n      0: 'No errors.',\n      1: 'FEN string must contain six space-delimited fields.',\n      2: '6th field (move number) must be a positive integer.',\n      3: '5th field (half move counter) must be a non-negative integer.',\n      4: '4th field (en-passant square) is invalid.',\n      5: '3rd field (castling availability) is invalid.',\n      6: '2nd field (side to move) is invalid.',\n      7: \"1st field (piece positions) does not contain 8 '/'-delimited rows.\",\n      8: '1st field (piece positions) is invalid [consecutive numbers].',\n      9: '1st field (piece positions) is invalid [invalid piece].',\n      10: '1st field (piece positions) is invalid [row too large].',\n      11: 'Illegal en-passant square'\n    }\n\n    /* 1st criterion: 6 space-seperated fields? */\n    var tokens = fen.split(/\\s+/)\n    if (tokens.length !== 6) {\n      return { valid: false, error_number: 1, error: errors[1] }\n    }\n\n    /* 2nd criterion: move number field is a integer value > 0? */\n    if (isNaN(tokens[5]) || parseInt(tokens[5], 10) <= 0) {\n      return { valid: false, error_number: 2, error: errors[2] }\n    }\n\n    /* 3rd criterion: half move counter is an integer >= 0? */\n    if (isNaN(tokens[4]) || parseInt(tokens[4], 10) < 0) {\n      return { valid: false, error_number: 3, error: errors[3] }\n    }\n\n    /* 4th criterion: 4th field is a valid e.p.-string? */\n    if (!/^(-|[abcdefgh][36])$/.test(tokens[3])) {\n      return { valid: false, error_number: 4, error: errors[4] }\n    }\n\n    /* 5th criterion: 3th field is a valid castle-string? */\n    if (!/^(KQ?k?q?|Qk?q?|kq?|q|-)$/.test(tokens[2])) {\n      return { valid: false, error_number: 5, error: errors[5] }\n    }\n\n    /* 6th criterion: 2nd field is \"w\" (white) or \"b\" (black)? */\n    if (!/^(w|b)$/.test(tokens[1])) {\n      return { valid: false, error_number: 6, error: errors[6] }\n    }\n\n    /* 7th criterion: 1st field contains 8 rows? */\n    var rows = tokens[0].split('/')\n    if (rows.length !== 8) {\n      return { valid: false, error_number: 7, error: errors[7] }\n    }\n\n    /* 8th criterion: every row is valid? */\n    for (var i = 0; i < rows.length; i++) {\n      /* check for right sum of fields AND not two numbers in succession */\n      var sum_fields = 0\n      var previous_was_number = false\n\n      for (var k = 0; k < rows[i].length; k++) {\n        if (!isNaN(rows[i][k])) {\n          if (previous_was_number) {\n            return { valid: false, error_number: 8, error: errors[8] }\n          }\n          sum_fields += parseInt(rows[i][k], 10)\n          previous_was_number = true\n        } else {\n          if (!/^[prnbqkPRNBQK]$/.test(rows[i][k])) {\n            return { valid: false, error_number: 9, error: errors[9] }\n          }\n          sum_fields += 1\n          previous_was_number = false\n        }\n      }\n      if (sum_fields !== 8) {\n        return { valid: false, error_number: 10, error: errors[10] }\n      }\n    }\n\n    if (\n      (tokens[3][1] == '3' && tokens[1] == 'w') ||\n      (tokens[3][1] == '6' && tokens[1] == 'b')\n    ) {\n      return { valid: false, error_number: 11, error: errors[11] }\n    }\n\n    /* everything's okay! */\n    return { valid: true, error_number: 0, error: errors[0] }\n  }\n\n  function generate_fen() {\n    var empty = 0\n    var fen = ''\n\n    for (var i = SQUARES.a8; i <= SQUARES.h1; i++) {\n      if (board[i] == null) {\n        empty++\n      } else {\n        if (empty > 0) {\n          fen += empty\n          empty = 0\n        }\n        var color = board[i].color\n        var piece = board[i].type\n\n        fen += color === WHITE ? piece.toUpperCase() : piece.toLowerCase()\n      }\n\n      if ((i + 1) & 0x88) {\n        if (empty > 0) {\n          fen += empty\n        }\n\n        if (i !== SQUARES.h1) {\n          fen += '/'\n        }\n\n        empty = 0\n        i += 8\n      }\n    }\n\n    var cflags = ''\n    if (castling[WHITE] & BITS.KSIDE_CASTLE) {\n      cflags += 'K'\n    }\n    if (castling[WHITE] & BITS.QSIDE_CASTLE) {\n      cflags += 'Q'\n    }\n    if (castling[BLACK] & BITS.KSIDE_CASTLE) {\n      cflags += 'k'\n    }\n    if (castling[BLACK] & BITS.QSIDE_CASTLE) {\n      cflags += 'q'\n    }\n\n    /* do we have an empty castling flag? */\n    cflags = cflags || '-'\n    var epflags = ep_square === EMPTY ? '-' : algebraic(ep_square)\n\n    return [fen, turn, cflags, epflags, half_moves, move_number].join(' ')\n  }\n\n  function set_header(args) {\n    for (var i = 0; i < args.length; i += 2) {\n      if (typeof args[i] === 'string' && typeof args[i + 1] === 'string') {\n        header[args[i]] = args[i + 1]\n      }\n    }\n    return header\n  }\n\n  /* called when the initial board setup is changed with put() or remove().\n   * modifies the SetUp and FEN properties of the header object.  if the FEN is\n   * equal to the default position, the SetUp and FEN are deleted\n   * the setup is only updated if history.length is zero, ie moves haven't been\n   * made.\n   */\n  function update_setup(fen) {\n    if (history.length > 0) return\n\n    if (fen !== DEFAULT_POSITION) {\n      header['SetUp'] = '1'\n      header['FEN'] = fen\n    } else {\n      delete header['SetUp']\n      delete header['FEN']\n    }\n  }\n\n  function get(square) {\n    var piece = board[SQUARES[square]]\n    return piece ? { type: piece.type, color: piece.color } : null\n  }\n\n  function put(piece, square) {\n    /* check for valid piece object */\n    if (!('type' in piece && 'color' in piece)) {\n      return false\n    }\n\n    /* check for piece */\n    if (SYMBOLS.indexOf(piece.type.toLowerCase()) === -1) {\n      return false\n    }\n\n    /* check for valid square */\n    if (!(square in SQUARES)) {\n      return false\n    }\n\n    var sq = SQUARES[square]\n\n    /* don't let the user place more than one king */\n    if (\n      piece.type == KING &&\n      !(kings[piece.color] == EMPTY || kings[piece.color] == sq)\n    ) {\n      return false\n    }\n\n    board[sq] = { type: piece.type, color: piece.color }\n    if (piece.type === KING) {\n      kings[piece.color] = sq\n    }\n\n    update_setup(generate_fen())\n\n    return true\n  }\n\n  function remove(square) {\n    var piece = get(square)\n    board[SQUARES[square]] = null\n    if (piece && piece.type === KING) {\n      kings[piece.color] = EMPTY\n    }\n\n    update_setup(generate_fen())\n\n    return piece\n  }\n\n  function build_move(board, from, to, flags, promotion) {\n    var move = {\n      color: turn,\n      from: from,\n      to: to,\n      flags: flags,\n      piece: board[from].type\n    }\n\n    if (promotion) {\n      move.flags |= BITS.PROMOTION\n      move.promotion = promotion\n    }\n\n    if (board[to]) {\n      move.captured = board[to].type\n    } else if (flags & BITS.EP_CAPTURE) {\n      move.captured = PAWN\n    }\n    return move\n  }\n\n  function generate_moves(options) {\n    function add_move(board, moves, from, to, flags) {\n      /* if pawn promotion */\n      if (\n        board[from].type === PAWN &&\n        (rank(to) === RANK_8 || rank(to) === RANK_1)\n      ) {\n        var pieces = [QUEEN, ROOK, BISHOP, KNIGHT]\n        for (var i = 0, len = pieces.length; i < len; i++) {\n          moves.push(build_move(board, from, to, flags, pieces[i]))\n        }\n      } else {\n        moves.push(build_move(board, from, to, flags))\n      }\n    }\n\n    var moves = []\n    var us = turn\n    var them = swap_color(us)\n    var second_rank = { b: RANK_7, w: RANK_2 }\n\n    var first_sq = SQUARES.a8\n    var last_sq = SQUARES.h1\n    var single_square = false\n\n    /* do we want legal moves? */\n    var legal =\n      typeof options !== 'undefined' && 'legal' in options\n        ? options.legal\n        : true\n\n    /* are we generating moves for a single square? */\n    if (typeof options !== 'undefined' && 'square' in options) {\n      if (options.square in SQUARES) {\n        first_sq = last_sq = SQUARES[options.square]\n        single_square = true\n      } else {\n        /* invalid square */\n        return []\n      }\n    }\n\n    for (var i = first_sq; i <= last_sq; i++) {\n      /* did we run off the end of the board */\n      if (i & 0x88) {\n        i += 7\n        continue\n      }\n\n      var piece = board[i]\n      if (piece == null || piece.color !== us) {\n        continue\n      }\n\n      if (piece.type === PAWN) {\n        /* single square, non-capturing */\n        var square = i + PAWN_OFFSETS[us][0]\n        if (board[square] == null) {\n          add_move(board, moves, i, square, BITS.NORMAL)\n\n          /* double square */\n          var square = i + PAWN_OFFSETS[us][1]\n          if (second_rank[us] === rank(i) && board[square] == null) {\n            add_move(board, moves, i, square, BITS.BIG_PAWN)\n          }\n        }\n\n        /* pawn captures */\n        for (j = 2; j < 4; j++) {\n          var square = i + PAWN_OFFSETS[us][j]\n          if (square & 0x88) continue\n\n          if (board[square] != null && board[square].color === them) {\n            add_move(board, moves, i, square, BITS.CAPTURE)\n          } else if (square === ep_square) {\n            add_move(board, moves, i, ep_square, BITS.EP_CAPTURE)\n          }\n        }\n      } else {\n        for (var j = 0, len = PIECE_OFFSETS[piece.type].length; j < len; j++) {\n          var offset = PIECE_OFFSETS[piece.type][j]\n          var square = i\n\n          while (true) {\n            square += offset\n            if (square & 0x88) break\n\n            if (board[square] == null) {\n              add_move(board, moves, i, square, BITS.NORMAL)\n            } else {\n              if (board[square].color === us) break\n              add_move(board, moves, i, square, BITS.CAPTURE)\n              break\n            }\n\n            /* break, if knight or king */\n            if (piece.type === 'n' || piece.type === 'k') break\n          }\n        }\n      }\n    }\n\n    /* check for castling if: a) we're generating all moves, or b) we're doing\n     * single square move generation on the king's square\n     */\n    if (!single_square || last_sq === kings[us]) {\n      /* king-side castling */\n      if (castling[us] & BITS.KSIDE_CASTLE) {\n        var castling_from = kings[us]\n        var castling_to = castling_from + 2\n\n        if (\n          board[castling_from + 1] == null &&\n          board[castling_to] == null &&\n          !attacked(them, kings[us]) &&\n          !attacked(them, castling_from + 1) &&\n          !attacked(them, castling_to)\n        ) {\n          add_move(board, moves, kings[us], castling_to, BITS.KSIDE_CASTLE)\n        }\n      }\n\n      /* queen-side castling */\n      if (castling[us] & BITS.QSIDE_CASTLE) {\n        var castling_from = kings[us]\n        var castling_to = castling_from - 2\n\n        if (\n          board[castling_from - 1] == null &&\n          board[castling_from - 2] == null &&\n          board[castling_from - 3] == null &&\n          !attacked(them, kings[us]) &&\n          !attacked(them, castling_from - 1) &&\n          !attacked(them, castling_to)\n        ) {\n          add_move(board, moves, kings[us], castling_to, BITS.QSIDE_CASTLE)\n        }\n      }\n    }\n\n    /* return all pseudo-legal moves (this includes moves that allow the king\n     * to be captured)\n     */\n    if (!legal) {\n      return moves\n    }\n\n    /* filter out illegal moves */\n    var legal_moves = []\n    for (var i = 0, len = moves.length; i < len; i++) {\n      make_move(moves[i])\n      if (!king_attacked(us)) {\n        legal_moves.push(moves[i])\n      }\n      undo_move()\n    }\n\n    return legal_moves\n  }\n\n  /* convert a move from 0x88 coordinates to Standard Algebraic Notation\n   * (SAN)\n   *\n   * @param {boolean} sloppy Use the sloppy SAN generator to work around over\n   * disambiguation bugs in Fritz and Chessbase.  See below:\n   *\n   * r1bqkbnr/ppp2ppp/2n5/1B1pP3/4P3/8/PPPP2PP/RNBQK1NR b KQkq - 2 4\n   * 4. ... Nge7 is overly disambiguated because the knight on c6 is pinned\n   * 4. ... Ne7 is technically the valid SAN\n   */\n  function move_to_san(move, sloppy) {\n    var output = ''\n\n    if (move.flags & BITS.KSIDE_CASTLE) {\n      output = 'O-O'\n    } else if (move.flags & BITS.QSIDE_CASTLE) {\n      output = 'O-O-O'\n    } else {\n      var disambiguator = get_disambiguator(move, sloppy)\n\n      if (move.piece !== PAWN) {\n        output += move.piece.toUpperCase() + disambiguator\n      }\n\n      if (move.flags & (BITS.CAPTURE | BITS.EP_CAPTURE)) {\n        if (move.piece === PAWN) {\n          output += algebraic(move.from)[0]\n        }\n        output += 'x'\n      }\n\n      output += algebraic(move.to)\n\n      if (move.flags & BITS.PROMOTION) {\n        output += '=' + move.promotion.toUpperCase()\n      }\n    }\n\n    make_move(move)\n    if (in_check()) {\n      if (in_checkmate()) {\n        output += '#'\n      } else {\n        output += '+'\n      }\n    }\n    undo_move()\n\n    return output\n  }\n\n  // parses all of the decorators out of a SAN string\n  function stripped_san(move) {\n    return move.replace(/=/, '').replace(/[+#]?[?!]*$/, '')\n  }\n\n  function attacked(color, square) {\n    for (var i = SQUARES.a8; i <= SQUARES.h1; i++) {\n      /* did we run off the end of the board */\n      if (i & 0x88) {\n        i += 7\n        continue\n      }\n\n      /* if empty square or wrong color */\n      if (board[i] == null || board[i].color !== color) continue\n\n      var piece = board[i]\n      var difference = i - square\n      var index = difference + 119\n\n      if (ATTACKS[index] & (1 << SHIFTS[piece.type])) {\n        if (piece.type === PAWN) {\n          if (difference > 0) {\n            if (piece.color === WHITE) return true\n          } else {\n            if (piece.color === BLACK) return true\n          }\n          continue\n        }\n\n        /* if the piece is a knight or a king */\n        if (piece.type === 'n' || piece.type === 'k') return true\n\n        var offset = RAYS[index]\n        var j = i + offset\n\n        var blocked = false\n        while (j !== square) {\n          if (board[j] != null) {\n            blocked = true\n            break\n          }\n          j += offset\n        }\n\n        if (!blocked) return true\n      }\n    }\n\n    return false\n  }\n\n  function king_attacked(color) {\n    return attacked(swap_color(color), kings[color])\n  }\n\n  function in_check() {\n    return king_attacked(turn)\n  }\n\n  function in_checkmate() {\n    return in_check() && generate_moves().length === 0\n  }\n\n  function in_stalemate() {\n    return !in_check() && generate_moves().length === 0\n  }\n\n  function insufficient_material() {\n    var pieces = {}\n    var bishops = []\n    var num_pieces = 0\n    var sq_color = 0\n\n    for (var i = SQUARES.a8; i <= SQUARES.h1; i++) {\n      sq_color = (sq_color + 1) % 2\n      if (i & 0x88) {\n        i += 7\n        continue\n      }\n\n      var piece = board[i]\n      if (piece) {\n        pieces[piece.type] = piece.type in pieces ? pieces[piece.type] + 1 : 1\n        if (piece.type === BISHOP) {\n          bishops.push(sq_color)\n        }\n        num_pieces++\n      }\n    }\n\n    /* k vs. k */\n    if (num_pieces === 2) {\n      return true\n    } else if (\n      /* k vs. kn .... or .... k vs. kb */\n      num_pieces === 3 &&\n      (pieces[BISHOP] === 1 || pieces[KNIGHT] === 1)\n    ) {\n      return true\n    } else if (num_pieces === pieces[BISHOP] + 2) {\n      /* kb vs. kb where any number of bishops are all on the same color */\n      var sum = 0\n      var len = bishops.length\n      for (var i = 0; i < len; i++) {\n        sum += bishops[i]\n      }\n      if (sum === 0 || sum === len) {\n        return true\n      }\n    }\n\n    return false\n  }\n\n  function in_threefold_repetition() {\n    /* TODO: while this function is fine for casual use, a better\n     * implementation would use a Zobrist key (instead of FEN). the\n     * Zobrist key would be maintained in the make_move/undo_move functions,\n     * avoiding the costly that we do below.\n     */\n    var moves = []\n    var positions = {}\n    var repetition = false\n\n    while (true) {\n      var move = undo_move()\n      if (!move) break\n      moves.push(move)\n    }\n\n    while (true) {\n      /* remove the last two fields in the FEN string, they're not needed\n       * when checking for draw by rep */\n      var fen = generate_fen()\n        .split(' ')\n        .slice(0, 4)\n        .join(' ')\n\n      /* has the position occurred three or move times */\n      positions[fen] = fen in positions ? positions[fen] + 1 : 1\n      if (positions[fen] >= 3) {\n        repetition = true\n      }\n\n      if (!moves.length) {\n        break\n      }\n      make_move(moves.pop())\n    }\n\n    return repetition\n  }\n\n  function push(move) {\n    history.push({\n      move: move,\n      kings: { b: kings.b, w: kings.w },\n      turn: turn,\n      castling: { b: castling.b, w: castling.w },\n      ep_square: ep_square,\n      half_moves: half_moves,\n      move_number: move_number\n    })\n  }\n\n  function make_move(move) {\n    var us = turn\n    var them = swap_color(us)\n    push(move)\n\n    board[move.to] = board[move.from]\n    board[move.from] = null\n\n    /* if ep capture, remove the captured pawn */\n    if (move.flags & BITS.EP_CAPTURE) {\n      if (turn === BLACK) {\n        board[move.to - 16] = null\n      } else {\n        board[move.to + 16] = null\n      }\n    }\n\n    /* if pawn promotion, replace with new piece */\n    if (move.flags & BITS.PROMOTION) {\n      board[move.to] = { type: move.promotion, color: us }\n    }\n\n    /* if we moved the king */\n    if (board[move.to].type === KING) {\n      kings[board[move.to].color] = move.to\n\n      /* if we castled, move the rook next to the king */\n      if (move.flags & BITS.KSIDE_CASTLE) {\n        var castling_to = move.to - 1\n        var castling_from = move.to + 1\n        board[castling_to] = board[castling_from]\n        board[castling_from] = null\n      } else if (move.flags & BITS.QSIDE_CASTLE) {\n        var castling_to = move.to + 1\n        var castling_from = move.to - 2\n        board[castling_to] = board[castling_from]\n        board[castling_from] = null\n      }\n\n      /* turn off castling */\n      castling[us] = ''\n    }\n\n    /* turn off castling if we move a rook */\n    if (castling[us]) {\n      for (var i = 0, len = ROOKS[us].length; i < len; i++) {\n        if (\n          move.from === ROOKS[us][i].square &&\n          castling[us] & ROOKS[us][i].flag\n        ) {\n          castling[us] ^= ROOKS[us][i].flag\n          break\n        }\n      }\n    }\n\n    /* turn off castling if we capture a rook */\n    if (castling[them]) {\n      for (var i = 0, len = ROOKS[them].length; i < len; i++) {\n        if (\n          move.to === ROOKS[them][i].square &&\n          castling[them] & ROOKS[them][i].flag\n        ) {\n          castling[them] ^= ROOKS[them][i].flag\n          break\n        }\n      }\n    }\n\n    /* if big pawn move, update the en passant square */\n    if (move.flags & BITS.BIG_PAWN) {\n      if (turn === 'b') {\n        ep_square = move.to - 16\n      } else {\n        ep_square = move.to + 16\n      }\n    } else {\n      ep_square = EMPTY\n    }\n\n    /* reset the 50 move counter if a pawn is moved or a piece is captured */\n    if (move.piece === PAWN) {\n      half_moves = 0\n    } else if (move.flags & (BITS.CAPTURE | BITS.EP_CAPTURE)) {\n      half_moves = 0\n    } else {\n      half_moves++\n    }\n\n    if (turn === BLACK) {\n      move_number++\n    }\n    turn = swap_color(turn)\n  }\n\n  function undo_move() {\n    var old = history.pop()\n    if (old == null) {\n      return null\n    }\n\n    var move = old.move\n    kings = old.kings\n    turn = old.turn\n    castling = old.castling\n    ep_square = old.ep_square\n    half_moves = old.half_moves\n    move_number = old.move_number\n\n    var us = turn\n    var them = swap_color(turn)\n\n    board[move.from] = board[move.to]\n    board[move.from].type = move.piece // to undo any promotions\n    board[move.to] = null\n\n    if (move.flags & BITS.CAPTURE) {\n      board[move.to] = { type: move.captured, color: them }\n    } else if (move.flags & BITS.EP_CAPTURE) {\n      var index\n      if (us === BLACK) {\n        index = move.to - 16\n      } else {\n        index = move.to + 16\n      }\n      board[index] = { type: PAWN, color: them }\n    }\n\n    if (move.flags & (BITS.KSIDE_CASTLE | BITS.QSIDE_CASTLE)) {\n      var castling_to, castling_from\n      if (move.flags & BITS.KSIDE_CASTLE) {\n        castling_to = move.to + 1\n        castling_from = move.to - 1\n      } else if (move.flags & BITS.QSIDE_CASTLE) {\n        castling_to = move.to - 2\n        castling_from = move.to + 1\n      }\n\n      board[castling_to] = board[castling_from]\n      board[castling_from] = null\n    }\n\n    return move\n  }\n\n  /* this function is used to uniquely identify ambiguous moves */\n  function get_disambiguator(move, sloppy) {\n    var moves = generate_moves({ legal: !sloppy })\n\n    var from = move.from\n    var to = move.to\n    var piece = move.piece\n\n    var ambiguities = 0\n    var same_rank = 0\n    var same_file = 0\n\n    for (var i = 0, len = moves.length; i < len; i++) {\n      var ambig_from = moves[i].from\n      var ambig_to = moves[i].to\n      var ambig_piece = moves[i].piece\n\n      /* if a move of the same piece type ends on the same to square, we'll\n       * need to add a disambiguator to the algebraic notation\n       */\n      if (piece === ambig_piece && from !== ambig_from && to === ambig_to) {\n        ambiguities++\n\n        if (rank(from) === rank(ambig_from)) {\n          same_rank++\n        }\n\n        if (file(from) === file(ambig_from)) {\n          same_file++\n        }\n      }\n    }\n\n    if (ambiguities > 0) {\n      /* if there exists a similar moving piece on the same rank and file as\n       * the move in question, use the square as the disambiguator\n       */\n      if (same_rank > 0 && same_file > 0) {\n        return algebraic(from)\n      } else if (same_file > 0) {\n        /* if the moving piece rests on the same file, use the rank symbol as the\n         * disambiguator\n         */\n        return algebraic(from).charAt(1)\n      } else {\n        /* else use the file symbol */\n        return algebraic(from).charAt(0)\n      }\n    }\n\n    return ''\n  }\n\n  function ascii() {\n    var s = '   +------------------------+\\n'\n    for (var i = SQUARES.a8; i <= SQUARES.h1; i++) {\n      /* display the rank */\n      if (file(i) === 0) {\n        s += ' ' + '87654321'[rank(i)] + ' |'\n      }\n\n      /* empty piece */\n      if (board[i] == null) {\n        s += ' . '\n      } else {\n        var piece = board[i].type\n        var color = board[i].color\n        var symbol = color === WHITE ? piece.toUpperCase() : piece.toLowerCase()\n        s += ' ' + symbol + ' '\n      }\n\n      if ((i + 1) & 0x88) {\n        s += '|\\n'\n        i += 8\n      }\n    }\n    s += '   +------------------------+\\n'\n    s += '     a  b  c  d  e  f  g  h\\n'\n\n    return s\n  }\n\n  // convert a move from Standard Algebraic Notation (SAN) to 0x88 coordinates\n  function move_from_san(move, sloppy) {\n    // strip off any move decorations: e.g Nf3+?!\n    var clean_move = stripped_san(move)\n\n    // if we're using the sloppy parser run a regex to grab piece, to, and from\n    // this should parse invalid SAN like: Pe2-e4, Rc1c4, Qf3xf7\n    if (sloppy) {\n      var matches = clean_move.match(\n        /([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/\n      )\n      if (matches) {\n        var piece = matches[1]\n        var from = matches[2]\n        var to = matches[3]\n        var promotion = matches[4]\n      }\n    }\n\n    var moves = generate_moves()\n    for (var i = 0, len = moves.length; i < len; i++) {\n      // try the strict parser first, then the sloppy parser if requested\n      // by the user\n      if (\n        clean_move === stripped_san(move_to_san(moves[i])) ||\n        (sloppy && clean_move === stripped_san(move_to_san(moves[i], true)))\n      ) {\n        return moves[i]\n      } else {\n        if (\n          matches &&\n          (!piece || piece.toLowerCase() == moves[i].piece) &&\n          SQUARES[from] == moves[i].from &&\n          SQUARES[to] == moves[i].to &&\n          (!promotion || promotion.toLowerCase() == moves[i].promotion)\n        ) {\n          return moves[i]\n        }\n      }\n    }\n\n    return null\n  }\n\n  /*****************************************************************************\n   * UTILITY FUNCTIONS\n   ****************************************************************************/\n  function rank(i) {\n    return i >> 4\n  }\n\n  function file(i) {\n    return i & 15\n  }\n\n  function algebraic(i) {\n    var f = file(i),\n      r = rank(i)\n    return 'abcdefgh'.substring(f, f + 1) + '87654321'.substring(r, r + 1)\n  }\n\n  function swap_color(c) {\n    return c === WHITE ? BLACK : WHITE\n  }\n\n  function is_digit(c) {\n    return '0123456789'.indexOf(c) !== -1\n  }\n\n  /* pretty = external move object */\n  function make_pretty(ugly_move) {\n    var move = clone(ugly_move)\n    move.san = move_to_san(move, false)\n    move.to = algebraic(move.to)\n    move.from = algebraic(move.from)\n\n    var flags = ''\n\n    for (var flag in BITS) {\n      if (BITS[flag] & move.flags) {\n        flags += FLAGS[flag]\n      }\n    }\n    move.flags = flags\n\n    return move\n  }\n\n  function clone(obj) {\n    var dupe = obj instanceof Array ? [] : {}\n\n    for (var property in obj) {\n      if (typeof property === 'object') {\n        dupe[property] = clone(obj[property])\n      } else {\n        dupe[property] = obj[property]\n      }\n    }\n\n    return dupe\n  }\n\n  function trim(str) {\n    return str.replace(/^\\s+|\\s+$/g, '')\n  }\n\n  /*****************************************************************************\n   * DEBUGGING UTILITIES\n   ****************************************************************************/\n  function perft(depth) {\n    var moves = generate_moves({ legal: false })\n    var nodes = 0\n    var color = turn\n\n    for (var i = 0, len = moves.length; i < len; i++) {\n      make_move(moves[i])\n      if (!king_attacked(color)) {\n        if (depth - 1 > 0) {\n          var child_nodes = perft(depth - 1)\n          nodes += child_nodes\n        } else {\n          nodes++\n        }\n      }\n      undo_move()\n    }\n\n    return nodes\n  }\n\n  return {\n    /***************************************************************************\n     * PUBLIC CONSTANTS (is there a better way to do this?)\n     **************************************************************************/\n    WHITE: WHITE,\n    BLACK: BLACK,\n    PAWN: PAWN,\n    KNIGHT: KNIGHT,\n    BISHOP: BISHOP,\n    ROOK: ROOK,\n    QUEEN: QUEEN,\n    KING: KING,\n    SQUARES: (function() {\n      /* from the ECMA-262 spec (section 12.6.4):\n       * \"The mechanics of enumerating the properties ... is\n       * implementation dependent\"\n       * so: for (var sq in SQUARES) { keys.push(sq); } might not be\n       * ordered correctly\n       */\n      var keys = []\n      for (var i = SQUARES.a8; i <= SQUARES.h1; i++) {\n        if (i & 0x88) {\n          i += 7\n          continue\n        }\n        keys.push(algebraic(i))\n      }\n      return keys\n    })(),\n    FLAGS: FLAGS,\n\n    /***************************************************************************\n     * PUBLIC API\n     **************************************************************************/\n    load: function(fen) {\n      return load(fen)\n    },\n\n    reset: function() {\n      return reset()\n    },\n\n    moves: function(options) {\n      /* The internal representation of a chess move is in 0x88 format, and\n       * not meant to be human-readable.  The code below converts the 0x88\n       * square coordinates to algebraic coordinates.  It also prunes an\n       * unnecessary move keys resulting from a verbose call.\n       */\n\n      var ugly_moves = generate_moves(options)\n      var moves = []\n\n      for (var i = 0, len = ugly_moves.length; i < len; i++) {\n        /* does the user want a full move object (most likely not), or just\n         * SAN\n         */\n        if (\n          typeof options !== 'undefined' &&\n          'verbose' in options &&\n          options.verbose\n        ) {\n          moves.push(make_pretty(ugly_moves[i]))\n        } else {\n          moves.push(move_to_san(ugly_moves[i], false))\n        }\n      }\n\n      return moves\n    },\n\n    in_check: function() {\n      return in_check()\n    },\n\n    in_checkmate: function() {\n      return in_checkmate()\n    },\n\n    in_stalemate: function() {\n      return in_stalemate()\n    },\n\n    in_draw: function() {\n      return (\n        half_moves >= 100 ||\n        in_stalemate() ||\n        insufficient_material() ||\n        in_threefold_repetition()\n      )\n    },\n\n    insufficient_material: function() {\n      return insufficient_material()\n    },\n\n    in_threefold_repetition: function() {\n      return in_threefold_repetition()\n    },\n\n    game_over: function() {\n      return (\n        half_moves >= 100 ||\n        in_checkmate() ||\n        in_stalemate() ||\n        insufficient_material() ||\n        in_threefold_repetition()\n      )\n    },\n\n    validate_fen: function(fen) {\n      return validate_fen(fen)\n    },\n\n    fen: function() {\n      return generate_fen()\n    },\n\n    board: function() {\n      var output = [],\n        row = []\n\n      for (var i = SQUARES.a8; i <= SQUARES.h1; i++) {\n        if (board[i] == null) {\n          row.push(null)\n        } else {\n          row.push({ type: board[i].type, color: board[i].color })\n        }\n        if ((i + 1) & 0x88) {\n          output.push(row)\n          row = []\n          i += 8\n        }\n      }\n\n      return output\n    },\n\n    pgn: function(options) {\n      /* using the specification from http://www.chessclub.com/help/PGN-spec\n       * example for html usage: .pgn({ max_width: 72, newline_char: \"<br />\" })\n       */\n      var newline =\n        typeof options === 'object' && typeof options.newline_char === 'string'\n          ? options.newline_char\n          : '\\n'\n      var max_width =\n        typeof options === 'object' && typeof options.max_width === 'number'\n          ? options.max_width\n          : 0\n      var result = []\n      var header_exists = false\n\n      /* add the PGN header headerrmation */\n      for (var i in header) {\n        /* TODO: order of enumerated properties in header object is not\n         * guaranteed, see ECMA-262 spec (section 12.6.4)\n         */\n        result.push('[' + i + ' \"' + header[i] + '\"]' + newline)\n        header_exists = true\n      }\n\n      if (header_exists && history.length) {\n        result.push(newline)\n      }\n\n      var append_comment = function(move_string) {\n        var comment = comments[generate_fen()]\n        if (typeof comment !== 'undefined') {\n          var delimiter = move_string.length > 0 ? ' ' : '';\n          move_string = `${move_string}${delimiter}{${comment}}`\n        }\n        return move_string\n      }\n\n      /* pop all of history onto reversed_history */\n      var reversed_history = []\n      while (history.length > 0) {\n        reversed_history.push(undo_move())\n      }\n\n      var moves = []\n      var move_string = ''\n\n      /* special case of a commented starting position with no moves */\n      if (reversed_history.length === 0) {\n        moves.push(append_comment(''))\n      }\n\n      /* build the list of moves.  a move_string looks like: \"3. e3 e6\" */\n      while (reversed_history.length > 0) {\n        move_string = append_comment(move_string)\n        var move = reversed_history.pop()\n\n        /* if the position started with black to move, start PGN with 1. ... */\n        if (!history.length && move.color === 'b') {\n          move_string = move_number + '. ...'\n        } else if (move.color === 'w') {\n          /* store the previous generated move_string if we have one */\n          if (move_string.length) {\n            moves.push(move_string)\n          }\n          move_string = move_number + '.'\n        }\n\n        move_string = move_string + ' ' + move_to_san(move, false)\n        make_move(move)\n      }\n\n      /* are there any other leftover moves? */\n      if (move_string.length) {\n        moves.push(append_comment(move_string))\n      }\n\n      /* is there a result? */\n      if (typeof header.Result !== 'undefined') {\n        moves.push(header.Result)\n      }\n\n      /* history should be back to what it was before we started generating PGN,\n       * so join together moves\n       */\n      if (max_width === 0) {\n        return result.join('') + moves.join(' ')\n      }\n\n      var strip = function() {\n        if (result.length > 0 && result[result.length - 1] === ' ') {\n          result.pop();\n          return true;\n        }\n        return false;\n      };\n\n      /* NB: this does not preserve comment whitespace. */\n      var wrap_comment = function(width, move) {\n        for (var token of move.split(' ')) {\n          if (!token) {\n            continue;\n          }\n          if (width + token.length > max_width) {\n            while (strip()) {\n              width--;\n            }\n            result.push(newline);\n            width = 0;\n          }\n          result.push(token);\n          width += token.length;\n          result.push(' ');\n          width++;\n        }\n        if (strip()) {\n          width--;\n        }\n        return width;\n      };\n\n      /* wrap the PGN output at max_width */\n      var current_width = 0\n      for (var i = 0; i < moves.length; i++) {\n        if (current_width + moves[i].length > max_width) {\n          if (moves[i].includes('{')) {\n            current_width = wrap_comment(current_width, moves[i]);\n            continue;\n          }\n        }\n        /* if the current move will push past max_width */\n        if (current_width + moves[i].length > max_width && i !== 0) {\n          /* don't end the line with whitespace */\n          if (result[result.length - 1] === ' ') {\n            result.pop()\n          }\n\n          result.push(newline)\n          current_width = 0\n        } else if (i !== 0) {\n          result.push(' ')\n          current_width++\n        }\n        result.push(moves[i])\n        current_width += moves[i].length\n      }\n\n      return result.join('')\n    },\n\n    load_pgn: function(pgn, options) {\n      // allow the user to specify the sloppy move parser to work around over\n      // disambiguation bugs in Fritz and Chessbase\n      var sloppy =\n        typeof options !== 'undefined' && 'sloppy' in options\n          ? options.sloppy\n          : false\n\n      function mask(str) {\n        return str.replace(/\\\\/g, '\\\\')\n      }\n\n      function has_keys(object) {\n        for (var key in object) {\n          return true\n        }\n        return false\n      }\n\n      function parse_pgn_header(header, options) {\n        var newline_char =\n          typeof options === 'object' &&\n          typeof options.newline_char === 'string'\n            ? options.newline_char\n            : '\\r?\\n'\n        var header_obj = {}\n        var headers = header.split(new RegExp(mask(newline_char)))\n        var key = ''\n        var value = ''\n\n        for (var i = 0; i < headers.length; i++) {\n          key = headers[i].replace(/^\\[([A-Z][A-Za-z]*)\\s.*\\]$/, '$1')\n          value = headers[i].replace(/^\\[[A-Za-z]+\\s\"(.*)\"\\ *\\]$/, '$1')\n          if (trim(key).length > 0) {\n            header_obj[key] = value\n          }\n        }\n\n        return header_obj\n      }\n\n      var newline_char =\n        typeof options === 'object' && typeof options.newline_char === 'string'\n          ? options.newline_char\n          : '\\r?\\n'\n\n      // RegExp to split header. Takes advantage of the fact that header and movetext\n      // will always have a blank line between them (ie, two newline_char's).\n      // With default newline_char, will equal: /^(\\[((?:\\r?\\n)|.)*\\])(?:\\r?\\n){2}/\n      var header_regex = new RegExp(\n        '^(\\\\[((?:' +\n          mask(newline_char) +\n          ')|.)*\\\\])' +\n          '(?:' +\n          mask(newline_char) +\n          '){2}'\n      )\n\n      // If no header given, begin with moves.\n      var header_string = header_regex.test(pgn)\n        ? header_regex.exec(pgn)[1]\n        : ''\n\n      // Put the board in the starting position\n      reset()\n\n      /* parse PGN header */\n      var headers = parse_pgn_header(header_string, options)\n      for (var key in headers) {\n        set_header([key, headers[key]])\n      }\n\n      /* load the starting position indicated by [Setup '1'] and\n       * [FEN position] */\n      if (headers['SetUp'] === '1') {\n        if (!('FEN' in headers && load(headers['FEN'], true))) {\n          // second argument to load: don't clear the headers\n          return false\n        }\n      }\n\n      /* NB: the regexes below that delete move numbers, recursive\n       * annotations, and numeric annotation glyphs may also match\n       * text in comments. To prevent this, we transform comments\n       * by hex-encoding them in place and decoding them again after\n       * the other tokens have been deleted.\n       *\n       * While the spec states that PGN files should be ASCII encoded,\n       * we use {en,de}codeURIComponent here to support arbitrary UTF8\n       * as a convenience for modern users */\n\n      var to_hex = function(string) {\n        return Array\n          .from(string)\n          .map(function(c) {\n            /* encodeURI doesn't transform most ASCII characters,\n             * so we handle these ourselves */\n            return c.charCodeAt(0) < 128\n              ? c.charCodeAt(0).toString(16)\n              : encodeURIComponent(c).replace(/\\%/g, '').toLowerCase()\n          })\n          .join('')\n      }\n\n      var from_hex = function(string) {\n        return string.length == 0\n          ? ''\n          : decodeURIComponent('%' + string.match(/.{1,2}/g).join('%'))\n      }\n\n      var encode_comment = function(string) {\n        string = string.replace(new RegExp(mask(newline_char), 'g'), ' ')\n        return `{${to_hex(string.slice(1, string.length - 1))}}`\n      }\n\n      var decode_comment = function(string) {\n        if (string.startsWith('{') && string.endsWith('}')) {\n          return from_hex(string.slice(1, string.length - 1))\n        }\n      }\n\n      /* delete header to get the moves */\n      var ms = pgn\n        .replace(header_string, '')\n        .replace(\n          /* encode comments so they don't get deleted below */\n          new RegExp(`(\\{[^}]*\\})+?|;([^${mask(newline_char)}]*)`, 'g'),\n          function(match, bracket, semicolon) {\n            return bracket !== undefined\n              ? encode_comment(bracket)\n              : ' ' + encode_comment(`{${semicolon.slice(1)}}`)\n          }\n        )\n        .replace(new RegExp(mask(newline_char), 'g'), ' ')\n\n      /* delete recursive annotation variations */\n      var rav_regex = /(\\([^\\(\\)]+\\))+?/g\n      while (rav_regex.test(ms)) {\n        ms = ms.replace(rav_regex, '')\n      }\n\n      /* delete move numbers */\n      ms = ms.replace(/\\d+\\.(\\.\\.)?/g, '')\n\n      /* delete ... indicating black to move */\n      ms = ms.replace(/\\.\\.\\./g, '')\n\n      /* delete numeric annotation glyphs */\n      ms = ms.replace(/\\$\\d+/g, '')\n\n      /* trim and get array of moves */\n      var moves = trim(ms).split(new RegExp(/\\s+/))\n\n      /* delete empty entries */\n      moves = moves\n        .join(',')\n        .replace(/,,+/g, ',')\n        .split(',')\n      var move = ''\n\n      for (var half_move = 0; half_move < moves.length - 1; half_move++) {\n        var comment = decode_comment(moves[half_move])\n        if (comment !== undefined) {\n          comments[generate_fen()] = comment\n          continue\n        }\n        move = move_from_san(moves[half_move], sloppy)\n\n        /* move not possible! (don't clear the board to examine to show the\n         * latest valid position)\n         */\n        if (move == null) {\n          return false\n        } else {\n          make_move(move)\n        }\n      }\n\n      comment = decode_comment(moves[moves.length - 1])\n      if (comment !== undefined) {\n        comments[generate_fen()] = comment\n        moves.pop()\n      }\n\n      /* examine last move */\n      move = moves[moves.length - 1]\n      if (POSSIBLE_RESULTS.indexOf(move) > -1) {\n        if (has_keys(header) && typeof header.Result === 'undefined') {\n          set_header(['Result', move])\n        }\n      } else {\n        move = move_from_san(move, sloppy)\n        if (move == null) {\n          return false\n        } else {\n          make_move(move)\n        }\n      }\n      return true\n    },\n\n    header: function() {\n      return set_header(arguments)\n    },\n\n    ascii: function() {\n      return ascii()\n    },\n\n    turn: function() {\n      return turn\n    },\n\n    move: function(move, options) {\n      /* The move function can be called with in the following parameters:\n       *\n       * .move('Nxb7')      <- where 'move' is a case-sensitive SAN string\n       *\n       * .move({ from: 'h7', <- where the 'move' is a move object (additional\n       *         to :'h8',      fields are ignored)\n       *         promotion: 'q',\n       *      })\n       */\n\n      // allow the user to specify the sloppy move parser to work around over\n      // disambiguation bugs in Fritz and Chessbase\n      var sloppy =\n        typeof options !== 'undefined' && 'sloppy' in options\n          ? options.sloppy\n          : false\n\n      var move_obj = null\n\n      if (typeof move === 'string') {\n        move_obj = move_from_san(move, sloppy)\n      } else if (typeof move === 'object') {\n        var moves = generate_moves()\n\n        /* convert the pretty move object to an ugly move object */\n        for (var i = 0, len = moves.length; i < len; i++) {\n          if (\n            move.from === algebraic(moves[i].from) &&\n            move.to === algebraic(moves[i].to) &&\n            (!('promotion' in moves[i]) ||\n              move.promotion === moves[i].promotion)\n          ) {\n            move_obj = moves[i]\n            break\n          }\n        }\n      }\n\n      /* failed to find move */\n      if (!move_obj) {\n        return null\n      }\n\n      /* need to make a copy of move because we can't generate SAN after the\n       * move is made\n       */\n      var pretty_move = make_pretty(move_obj)\n\n      make_move(move_obj)\n\n      return pretty_move\n    },\n\n    undo: function() {\n      var move = undo_move()\n      return move ? make_pretty(move) : null\n    },\n\n    clear: function() {\n      return clear()\n    },\n\n    put: function(piece, square) {\n      return put(piece, square)\n    },\n\n    get: function(square) {\n      return get(square)\n    },\n\n    remove: function(square) {\n      return remove(square)\n    },\n\n    perft: function(depth) {\n      return perft(depth)\n    },\n\n    square_color: function(square) {\n      if (square in SQUARES) {\n        var sq_0x88 = SQUARES[square]\n        return (rank(sq_0x88) + file(sq_0x88)) % 2 === 0 ? 'light' : 'dark'\n      }\n\n      return null\n    },\n\n    history: function(options) {\n      var reversed_history = []\n      var move_history = []\n      var verbose =\n        typeof options !== 'undefined' &&\n        'verbose' in options &&\n        options.verbose\n\n      while (history.length > 0) {\n        reversed_history.push(undo_move())\n      }\n\n      while (reversed_history.length > 0) {\n        var move = reversed_history.pop()\n        if (verbose) {\n          move_history.push(make_pretty(move))\n        } else {\n          move_history.push(move_to_san(move))\n        }\n        make_move(move)\n      }\n\n      return move_history\n    },\n\n    get_comment: function() {\n      return comments[generate_fen()];\n    },\n\n    set_comment: function(comment) {\n      comments[generate_fen()] = comment.replace('{', '[').replace('}', ']');\n    },\n\n    delete_comment: function() {\n      var comment = comments[generate_fen()];\n      delete comments[generate_fen()];\n      return comment;\n    },\n\n    get_comments: function() {\n      prune_comments();\n      return Object.keys(comments).map(function(fen) {\n        return {fen: fen, comment: comments[fen]};\n      });\n    },\n\n    delete_comments: function() {\n      prune_comments();\n      return Object.keys(comments)\n        .map(function(fen) {\n          var comment = comments[fen];\n          delete comments[fen];\n          return {fen: fen, comment: comment};\n        });\n    }\n  }\n}\n\n/* export Chess object if using node or any other CommonJS compatible\n * environment */\nif (typeof exports !== 'undefined') exports.Chess = Chess\n/* export Chess object for any RequireJS compatible environment */\nif (typeof define !== 'undefined')\n  define(function() {\n    return Chess\n  })\n","var isCallable = require('../internals/is-callable');\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw $TypeError(tryToString(argument) + ' is not a function');\n};\n","var isObject = require('../internals/is-object');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw $TypeError($String(argument) + ' is not an object');\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar isArray = require('../internals/is-array');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Safari < 13 does not throw an error in this case\nvar SILENT_ON_NON_WRITABLE_LENGTH_SET = DESCRIPTORS && !function () {\n  // makes no sense without proper strict mode support\n  if (this !== undefined) return true;\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).length = 1;\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n}();\n\nmodule.exports = SILENT_ON_NON_WRITABLE_LENGTH_SET ? function (O, length) {\n  if (isArray(O) && !getOwnPropertyDescriptor(O, 'length').writable) {\n    throw $TypeError('Cannot set read only .length');\n  } return O.length = length;\n} : function (O, length) {\n  return O.length = length;\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n","var hasOwn = require('../internals/has-own-property');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source, exceptions) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {\n      defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  }\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var isCallable = require('../internals/is-callable');\nvar definePropertyModule = require('../internals/object-define-property');\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nmodule.exports = function (O, key, value, options) {\n  if (!options) options = {};\n  var simple = options.enumerable;\n  var name = options.name !== undefined ? options.name : key;\n  if (isCallable(value)) makeBuiltIn(value, name, options);\n  if (options.global) {\n    if (simple) O[key] = value;\n    else defineGlobalProperty(key, value);\n  } else {\n    try {\n      if (!options.unsafe) delete O[key];\n      else if (O[key]) simple = true;\n    } catch (error) { /* empty */ }\n    if (simple) O[key] = value;\n    else definePropertyModule.f(O, key, {\n      value: value,\n      enumerable: false,\n      configurable: !options.nonConfigurable,\n      writable: !options.nonWritable\n    });\n  } return O;\n};\n","var global = require('../internals/global');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var documentAll = typeof document == 'object' && document.all;\n\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot\n// eslint-disable-next-line unicorn/no-typeof-undefined -- required for testing\nvar IS_HTMLDDA = typeof documentAll == 'undefined' && documentAll !== undefined;\n\nmodule.exports = {\n  all: documentAll,\n  IS_HTMLDDA: IS_HTMLDDA\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var $TypeError = TypeError;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF; // 2 ** 53 - 1 == 9007199254740991\n\nmodule.exports = function (it) {\n  if (it > MAX_SAFE_INTEGER) throw $TypeError('Maximum allowed index exceeded');\n  return it;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target         - name of the target object\n  options.global         - target is the global object\n  options.stat           - export as static methods of target\n  options.proto          - export as prototype methods of target\n  options.real           - real prototype method for the `pure` version\n  options.forced         - export even if the native feature is available\n  options.bind           - bind methods to the target, required for the `pure` version\n  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe         - use the simple assignment of property instead of delete + defineProperty\n  options.sham           - add a flag to not completely full polyfills\n  options.enumerable     - export as enumerable property\n  options.dontCallGetSet - prevent calling a getter on target\n  options.name           - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || defineGlobalProperty(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.dontCallGetSet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty == typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    defineBuiltIn(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-function-prototype-bind -- safe\n  var test = (function () { /* empty */ }).bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != 'function' || test.hasOwnProperty('prototype');\n});\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar call = Function.prototype.call;\n\nmodule.exports = NATIVE_BIND ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar hasOwn = require('../internals/has-own-property');\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar call = FunctionPrototype.call;\nvar uncurryThisWithBind = NATIVE_BIND && FunctionPrototype.bind.bind(call, call);\n\nmodule.exports = NATIVE_BIND ? uncurryThisWithBind : function (fn) {\n  return function () {\n    return call.apply(fn, arguments);\n  };\n};\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];\n};\n","var aCallable = require('../internals/a-callable');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return isNullOrUndefined(func) ? undefined : aCallable(func);\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\n// eslint-disable-next-line es/no-object-hasown -- safe\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n","module.exports = {};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thanks to IE8 for its funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar $Object = Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !$Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split(it, '') : $Object(it);\n} : $Object;\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar store = require('../internals/shared-store');\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var NATIVE_WEAK_MAP = require('../internals/weak-map-basic-detection');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = global.TypeError;\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  /* eslint-disable no-self-assign -- prototype methods protection */\n  store.get = store.get;\n  store.has = store.has;\n  store.set = store.set;\n  /* eslint-enable no-self-assign -- prototype methods protection */\n  set = function (it, metadata) {\n    if (store.has(it)) throw TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    store.set(it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return store.get(it) || {};\n  };\n  has = function (it) {\n    return store.has(it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(argument) {\n  return classof(argument) == 'Array';\n};\n","var $documentAll = require('../internals/document-all');\n\nvar documentAll = $documentAll.all;\n\n// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\nmodule.exports = $documentAll.IS_HTMLDDA ? function (argument) {\n  return typeof argument == 'function' || argument === documentAll;\n} : function (argument) {\n  return typeof argument == 'function';\n};\n","var fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","// we can't use just `it == null` since of `document.all` special case\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec\nmodule.exports = function (it) {\n  return it === null || it === undefined;\n};\n","var isCallable = require('../internals/is-callable');\nvar $documentAll = require('../internals/document-all');\n\nvar documentAll = $documentAll.all;\n\nmodule.exports = $documentAll.IS_HTMLDDA ? function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it) || it === documentAll;\n} : function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n","module.exports = false;\n","var getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar $Object = Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));\n};\n","var toLength = require('../internals/to-length');\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n","var fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar CONFIGURABLE_FUNCTION_NAME = require('../internals/function-name').CONFIGURABLE;\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nvar CONFIGURABLE_LENGTH = DESCRIPTORS && !fails(function () {\n  return defineProperty(function () { /* empty */ }, 'length', { value: 8 }).length !== 8;\n});\n\nvar TEMPLATE = String(String).split('String');\n\nvar makeBuiltIn = module.exports = function (value, name, options) {\n  if (String(name).slice(0, 7) === 'Symbol(') {\n    name = '[' + String(name).replace(/^Symbol\\(([^)]*)\\)/, '$1') + ']';\n  }\n  if (options && options.getter) name = 'get ' + name;\n  if (options && options.setter) name = 'set ' + name;\n  if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n    if (DESCRIPTORS) defineProperty(value, 'name', { value: name, configurable: true });\n    else value.name = name;\n  }\n  if (CONFIGURABLE_LENGTH && options && hasOwn(options, 'arity') && value.length !== options.arity) {\n    defineProperty(value, 'length', { value: options.arity });\n  }\n  try {\n    if (options && hasOwn(options, 'constructor') && options.constructor) {\n      if (DESCRIPTORS) defineProperty(value, 'prototype', { writable: false });\n    // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable\n    } else if (value.prototype) value.prototype = undefined;\n  } catch (error) { /* empty */ }\n  var state = enforceInternalState(value);\n  if (!hasOwn(state, 'source')) {\n    state.source = TEMPLATE.join(typeof name == 'string' ? name : '');\n  } return value;\n};\n\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n// eslint-disable-next-line no-extend-native -- required\nFunction.prototype.toString = makeBuiltIn(function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n}, 'toString');\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.es/ecma262/#sec-math.trunc\n// eslint-disable-next-line es/no-math-trunc -- safe\nmodule.exports = Math.trunc || function trunc(x) {\n  var n = +x;\n  return (n > 0 ? floor : ceil)(n);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw $TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar call = require('../internals/function-call');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar hasOwn = require('../internals/has-own-property');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","var call = require('../internals/function-call');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar $TypeError = TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw $TypeError(\"Can't convert object to primitive value\");\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\nvar concat = uncurryThis([].concat);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;\n};\n","var isNullOrUndefined = require('../internals/is-null-or-undefined');\n\nvar $TypeError = TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (isNullOrUndefined(it)) throw $TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var global = require('../internals/global');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || defineGlobalProperty(SHARED, {});\n\nmodule.exports = store;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.27.1',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2014-2022 Denis Pushkarev (zloirock.ru)',\n  license: 'https://github.com/zloirock/core-js/blob/v3.27.1/LICENSE',\n  source: 'https://github.com/zloirock/core-js'\n});\n","/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol();\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  return !String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var trunc = require('../internals/math-trunc');\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return number !== number || number === 0 ? 0 : trunc(number);\n};\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toIntegerOrInfinity(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar $Object = Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return $Object(requireObjectCoercible(argument));\n};\n","var call = require('../internals/function-call');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar getMethod = require('../internals/get-method');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $TypeError = TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw $TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","var toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n","var $String = String;\n\nmodule.exports = function (argument) {\n  try {\n    return $String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.0.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nmodule.exports = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () { /* empty */ }, 'prototype', {\n    value: 42,\n    writable: false\n  }).prototype != 42;\n});\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(String(WeakMap));\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar hasOwn = require('../internals/has-own-property');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar symbolFor = Symbol && Symbol['for'];\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    var description = 'Symbol.' + name;\n    if (NATIVE_SYMBOL && hasOwn(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else if (USE_SYMBOL_AS_UID && symbolFor) {\n      WellKnownSymbolsStore[name] = symbolFor(description);\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol(description);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar setArrayLength = require('../internals/array-set-length');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\nvar fails = require('../internals/fails');\n\nvar INCORRECT_TO_LENGTH = fails(function () {\n  return [].push.call({ length: 0x100000000 }, 1) !== 4294967297;\n});\n\n// V8 and Safari <= 15.4, FF < 23 throws InternalError\n// https://bugs.chromium.org/p/v8/issues/detail?id=12681\nvar SILENT_ON_NON_WRITABLE_LENGTH = !function () {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).push();\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n}();\n\n// `Array.prototype.push` method\n// https://tc39.es/ecma262/#sec-array.prototype.push\n$({ target: 'Array', proto: true, arity: 1, forced: INCORRECT_TO_LENGTH || SILENT_ON_NON_WRITABLE_LENGTH }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  push: function push(item) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var argCount = arguments.length;\n    doesNotExceedSafeInteger(len + argCount);\n    for (var i = 0; i < argCount; i++) {\n      O[len] = arguments[i];\n      len++;\n    }\n    setArrayLength(O, len);\n    return len;\n  }\n});\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","instruction","ref","on","e","$refs","chessboard","staticRenderFns","attrs","markupSquare","markup","squareEl","moveNumberContainer","document","createElement","moveNumberEl","moveNumber","createTextNode","setAttribute","style","margin","position","top","left","transform","appendChild","allPossibleMoves","takenSpots","indexOf","map","move","filter","includes","nextMove","possibleMoves","movesAccessibilities","length","minAccessibility","Math","min","push","takeTour","name","mounted","data","boardEl","game","positionSuffix","computed","methods","changeState","Object","currentPosition","selectInBoard","reset","c6","boardReady","updateBoardState","droped","detail","source","target","setAction","from","to","setTimeout","warnsdorff","visualizeTour","tour","clearBoard","component","$event","chessboardEvent","class","disableButton","tourButtonText","directives","rawName","value","expression","boardIsVisualizing","domProps","composing","delayTime","boardIsUnReady","get","set","components","Chessboard","Dashboard","Chess","fen","BLACK","WHITE","EMPTY","PAWN","KNIGHT","BISHOP","ROOK","QUEEN","KING","SYMBOLS","DEFAULT_POSITION","POSSIBLE_RESULTS","PAWN_OFFSETS","b","w","PIECE_OFFSETS","n","r","q","k","ATTACKS","RAYS","SHIFTS","p","FLAGS","NORMAL","CAPTURE","BIG_PAWN","EP_CAPTURE","PROMOTION","KSIDE_CASTLE","QSIDE_CASTLE","BITS","RANK_1","RANK_2","RANK_7","RANK_8","SQUARES","a8","b8","c8","d8","e8","f8","g8","h8","a7","b7","c7","d7","e7","f7","g7","h7","a6","b6","d6","e6","f6","g6","h6","a5","b5","c5","d5","e5","f5","g5","h5","a4","b4","c4","d4","e4","f4","g4","h4","a3","b3","c3","d3","e3","f3","g3","h3","a2","b2","c2","d2","e2","f2","g2","h2","a1","b1","c1","d1","e1","f1","g1","h1","ROOKS","square","flag","board","Array","kings","turn","castling","ep_square","half_moves","move_number","history","header","comments","clear","keep_headers","update_setup","generate_fen","prune_comments","reversed_history","current_comments","copy_comment","undo_move","make_move","pop","load","tokens","split","validate_fen","valid","i","piece","charAt","is_digit","parseInt","color","put","type","toLowerCase","algebraic","errors","error_number","error","isNaN","test","rows","sum_fields","previous_was_number","empty","toUpperCase","cflags","epflags","join","set_header","args","sq","remove","build_move","flags","promotion","captured","generate_moves","options","add_move","moves","rank","pieces","len","us","them","swap_color","second_rank","first_sq","last_sq","single_square","legal","j","offset","castling_from","castling_to","attacked","legal_moves","king_attacked","move_to_san","sloppy","output","disambiguator","get_disambiguator","in_check","in_checkmate","stripped_san","replace","difference","index","blocked","in_stalemate","insufficient_material","bishops","num_pieces","sq_color","sum","in_threefold_repetition","positions","repetition","slice","old","ambiguities","same_rank","same_file","ambig_from","ambig_to","ambig_piece","file","ascii","s","symbol","move_from_san","clean_move","matches","match","f","substring","c","make_pretty","ugly_move","clone","san","obj","dupe","property","trim","str","perft","depth","nodes","child_nodes","keys","ugly_moves","verbose","in_draw","game_over","row","pgn","newline","newline_char","max_width","result","header_exists","append_comment","move_string","comment","delimiter","Result","strip","wrap_comment","width","token","current_width","load_pgn","mask","has_keys","object","key","parse_pgn_header","header_obj","headers","RegExp","header_regex","header_string","exec","to_hex","string","charCodeAt","toString","encodeURIComponent","from_hex","decodeURIComponent","encode_comment","decode_comment","startsWith","endsWith","ms","bracket","semicolon","undefined","rav_regex","half_move","arguments","move_obj","pretty_move","undo","square_color","sq_0x88","move_history","get_comment","set_comment","delete_comment","get_comments","delete_comments","exports","isCallable","tryToString","$TypeError","TypeError","module","argument","isObject","$String","String","toIndexedObject","toAbsoluteIndex","lengthOfArrayLike","createMethod","IS_INCLUDES","$this","el","fromIndex","O","DESCRIPTORS","isArray","getOwnPropertyDescriptor","SILENT_ON_NON_WRITABLE_LENGTH_SET","defineProperty","writable","uncurryThis","stringSlice","it","hasOwn","ownKeys","getOwnPropertyDescriptorModule","definePropertyModule","exceptions","createPropertyDescriptor","bitmap","enumerable","configurable","makeBuiltIn","defineGlobalProperty","simple","global","unsafe","nonConfigurable","nonWritable","fails","documentAll","all","IS_HTMLDDA","EXISTS","MAX_SAFE_INTEGER","getBuiltIn","version","userAgent","process","Deno","versions","v8","createNonEnumerableProperty","defineBuiltIn","copyConstructorProperties","isForced","FORCED","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","stat","prototype","dontCallGetSet","forced","sham","bind","hasOwnProperty","NATIVE_BIND","call","Function","apply","FunctionPrototype","getDescriptor","PROPER","CONFIGURABLE","uncurryThisWithBind","fn","aFunction","namespace","method","aCallable","isNullOrUndefined","V","P","func","check","globalThis","window","self","g","toObject","a","classof","$Object","propertyIsEnumerable","store","functionToString","inspectSource","has","NATIVE_WEAK_MAP","shared","sharedKey","hiddenKeys","OBJECT_ALREADY_INITIALIZED","WeakMap","enforce","getterFor","TYPE","state","metadata","facade","STATE","$documentAll","replacement","feature","detection","normalize","POLYFILL","NATIVE","isPrototypeOf","USE_SYMBOL_AS_UID","$Symbol","toLength","CONFIGURABLE_FUNCTION_NAME","InternalStateModule","enforceInternalState","getInternalState","CONFIGURABLE_LENGTH","TEMPLATE","getter","setter","arity","constructor","ceil","floor","trunc","x","IE8_DOM_DEFINE","V8_PROTOTYPE_DEFINE_BUG","anObject","toPropertyKey","$defineProperty","$getOwnPropertyDescriptor","ENUMERABLE","WRITABLE","Attributes","current","propertyIsEnumerableModule","internalObjectKeys","enumBugKeys","concat","getOwnPropertyNames","getOwnPropertySymbols","names","$propertyIsEnumerable","NASHORN_BUG","input","pref","val","valueOf","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","uid","SHARED","IS_PURE","mode","copyright","license","V8_VERSION","Symbol","toIntegerOrInfinity","max","integer","IndexedObject","requireObjectCoercible","number","isSymbol","getMethod","ordinaryToPrimitive","wellKnownSymbol","TO_PRIMITIVE","exoticToPrim","toPrimitive","id","postfix","random","NATIVE_SYMBOL","iterator","WellKnownSymbolsStore","symbolFor","createWellKnownSymbol","withoutSetter","description","$","setArrayLength","doesNotExceedSafeInteger","INCORRECT_TO_LENGTH","SILENT_ON_NON_WRITABLE_LENGTH","proto","item","argCount"],"sourceRoot":""}